<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<svg width="800" height="600" xmlns="http://www.w3.org/2000/svg">
  <!-- Background -->
  <rect width="800" height="600" fill="#ffffff"/>
  
  <!-- Frontend Box -->
  <rect x="250" y="50" width="300" height="80" rx="5" ry="5" fill="#e6f7ff" stroke="#1890ff" stroke-width="2"/>
  <text x="400" y="75" font-family="Arial" font-size="16" text-anchor="middle" font-weight="bold">用户界面 (前端)</text>
  <text x="400" y="100" font-family="Arial" font-size="14" text-anchor="middle">React.js / Next.js App</text>
  
  <!-- Web3/ethers.js Arrow Down -->
  <line x1="400" y1="130" x2="400" y2="170" stroke="#1890ff" stroke-width="2"/>
  <polygon points="400,170 395,160 405,160" fill="#1890ff"/>
  <text x="450" y="155" font-family="Arial" font-size="12">Web3 / ethers.js</text>
  
  <!-- Blockchain/Smart Contract Box -->
  <rect x="200" y="170" width="400" height="120" rx="5" ry="5" fill="#f6ffed" stroke="#52c41a" stroke-width="2"/>
  <text x="400" y="195" font-family="Arial" font-size="16" text-anchor="middle" font-weight="bold">区块链网络 (智能合约)</text>
  
  <!-- Token Contract Box -->
  <rect x="230" y="210" width="160" height="60" rx="5" ry="5" fill="#ffffff" stroke="#52c41a" stroke-width="1"/>
  <text x="310" y="235" font-family="Arial" font-size="12" text-anchor="middle">ConsultToken</text>
  <text x="310" y="255" font-family="Arial" font-size="10" text-anchor="middle">(ERC-20 代币用于支付AI服务)</text>
  
  <!-- Main Contract Box -->
  <rect x="410" y="210" width="160" height="60" rx="5" ry="5" fill="#ffffff" stroke="#52c41a" stroke-width="1"/>
  <text x="490" y="235" font-family="Arial" font-size="12" text-anchor="middle">AIConsultant</text>
  <text x="490" y="255" font-family="Arial" font-size="10" text-anchor="middle">(处理请求和存储AI回答)</text>
  
  <!-- Oracle/MCP Arrow Down -->
  <line x1="400" y1="290" x2="400" y2="330" stroke="#722ed1" stroke-width="2"/>
  <polygon points="400,330 395,320 405,320" fill="#722ed1"/>
  <text x="450" y="315" font-family="Arial" font-size="12">Oracle / MCP</text>
  
  <!-- Backend MCP Service Box -->
  <rect x="250" y="330" width="300" height="80" rx="5" ry="5" fill="#f9f0ff" stroke="#722ed1" stroke-width="2"/>
  <text x="400" y="355" font-family="Arial" font-size="16" text-anchor="middle" font-weight="bold">后端 MCP 服务</text>
  <text x="400" y="380" font-family="Arial" font-size="14" text-anchor="middle">Node.js / Express Server</text>
  
  <!-- API Call Arrow Down -->
  <line x1="400" y1="410" x2="400" y2="450" stroke="#fa8c16" stroke-width="2"/>
  <polygon points="400,450 395,440 405,440" fill="#fa8c16"/>
  <text x="450" y="435" font-family="Arial" font-size="12">API 调用</text>
  
  <!-- AI Service Box -->
  <rect x="250" y="450" width="300" height="80" rx="5" ry="5" fill="#fff7e6" stroke="#fa8c16" stroke-width="2"/>
  <text x="400" y="475" font-family="Arial" font-size="16" text-anchor="middle" font-weight="bold">AI 服务提供商</text>
  <text x="400" y="500" font-family="Arial" font-size="14" text-anchor="middle">Claude / GPT / 自定义AI模型</text>
  
  <!-- Return Arrows -->
  <line x1="350" y1="450" x2="350" y2="410" stroke="#fa8c16" stroke-width="2" stroke-dasharray="5,5"/>
  <polygon points="350,410 345,420 355,420" fill="#fa8c16"/>
  
  <line x1="350" y1="330" x2="350" y2="290" stroke="#722ed1" stroke-width="2" stroke-dasharray="5,5"/>
  <polygon points="350,290 345,300 355,300" fill="#722ed1"/>
  
  <line x1="350" y1="170" x2="350" y2="130" stroke="#1890ff" stroke-width="2" stroke-dasharray="5,5"/>
  <polygon points="350,130 345,140 355,140" fill="#1890ff"/>
  
  <!-- Data Flow Labels -->
  <text x="330" y="155" font-family="Arial" font-size="12" text-anchor="end">回答返回</text>
  <text x="470" y="155" font-family="Arial" font-size="12" text-anchor="start">提交问题+支付</text>
  
  <text x="330" y="315" font-family="Arial" font-size="12" text-anchor="end">回答提交</text>
  <text x="470" y="315" font-family="Arial" font-size="12" text-anchor="start">请求事件</text>
  
  <text x="330" y="435" font-family="Arial" font-size="12" text-anchor="end">接收AI回答</text>
  <text x="470" y="435" font-family="Arial" font-size="12" text-anchor="start">请求AI回答</text>
</svg> 